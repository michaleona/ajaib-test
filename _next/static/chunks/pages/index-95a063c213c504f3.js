(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8768)}])},8768:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return _}});var t=n(5893),a=n(6809),u=n(6226),l=n(6042),d=n(9396),i=n(1369),s=n(2688),o=n(1889),c=n(8795),f=n(5072),h=n(9473),p=n(7294),g=function(e,r){var n=(0,p.useState)(e),t=n[0],a=n[1];return(0,p.useEffect)((function(){var n=setTimeout((function(){a(e)}),r);return function(){clearTimeout(n)}}),[e,r]),t},x=i.Z.Option,m=function(){var e=(0,p.useState)(null),r=e[0],n=e[1],m=(0,p.useState)(!1),j=m[0],Z=m[1],v=(0,h.v9)(f.me),w=(0,h.I0)(),S=(0,p.useRef)(!0),_=g(r,500);return(0,p.useEffect)((function(){S.current?S.current=!1:j?Z(!1):w((0,f.rr)((0,d.Z)((0,l.Z)({},v),{search:_})))}),[_]),(0,t.jsxs)(a.Z,{gutter:8,children:[(0,t.jsxs)(u.Z,{children:["Search",(0,t.jsx)(s.Z,{prefix:(0,t.jsx)(c.Z,{}),placeholder:"Search...",allowClear:!0,onChange:function(e){n(e.target.value)},value:r})]}),(0,t.jsxs)(u.Z,{children:["Gender",(0,t.jsx)("br",{}),(0,t.jsxs)(i.Z,{onChange:function(e){w((0,f.rr)((0,d.Z)((0,l.Z)({},v),{gender:e})))},defaultValue:"all",style:{width:120},value:v.gender,children:[(0,t.jsx)(x,{value:"all",children:"All"}),(0,t.jsx)(x,{value:"male",children:"Male"}),(0,t.jsx)(x,{value:"female",children:"Female"})]})]}),(0,t.jsxs)(u.Z,{children:[(0,t.jsx)("br",{}),(0,t.jsx)(o.Z,{onClick:function(){return n(null),Z(!0),void w((0,f.Bp)())},children:"Reset Filter"})]})]})},j=n(4573),Z=n(9459),v=n(381),w=n.n(v),S=function(){var e=(0,h.v9)(f.me),r=(0,h.v9)(f.pA),n=(0,h.v9)(f.IR),a=(0,h.v9)(f.Zz),u=(0,h.I0)(),i=(0,p.useRef)(!0),s=(0,p.useState)(null),o=s[0],c=s[1],g=(0,p.useState)(!0),x=g[0],m=g[1],v=[{title:"Username",dataIndex:"login",render:function(e){return(0,t.jsx)("span",{children:e.username})}},{title:"Name",dataIndex:"name",width:"30%",sorter:!0,sortOrder:"name"===r.field?r.order:null,render:function(e){return(0,t.jsxs)("span",{children:[e.first," ",e.last]})}},{title:"Email",dataIndex:"email",sorter:!0,sortOrder:"email"===r.field?r.order:null},{title:"Gender",dataIndex:"gender",sorter:!0,sortOrder:"gender"===r.field?r.order:null},{title:"Registered Date",dataIndex:"registered",sorter:!0,sortOrder:"registered"===r.field?r.order:null,width:"24%",render:function(e){return(0,t.jsx)("span",{children:w()(e.date).format("DD-MM-YYYY HH:mm")})}}];return(0,p.useEffect)((function(){!function(r,n){m(!0);var t=new URLSearchParams;r&&r.order&&(t.append("sortBy",r.field),t.append("sortOrder",r.order)),e.gender&&"all"!==e.gender&&t.append("gender",e.gender),e.search&&t.append("keyword",e.search),t.append("page",n.current),t.append("pageSize",n.pageSize),t.append("results",100),fetch("https://randomuser.me/api?inc=gender,name,registered,login,email,phone&".concat(t.toString())).then((function(e){return e.json()})).then((function(e){c(e.results),m(!1)})).catch((function(){j.ZP.error("Cannot fetch data. Reload the page."),m(!1)}))}(r,n)}),[n,r]),(0,p.useEffect)((function(){i.current?i.current=!1:a?u((0,f.jF)(!1)):(u((0,f.Jr)((0,d.Z)((0,l.Z)({},n),{current:1}))),u((0,f.Jh)({field:null,order:null})))}),[e]),(0,t.jsx)(Z.Z,{loading:x,style:{paddingTop:40},columns:v,pagination:n,showSorterTooltip:!1,dataSource:o,onChange:function(e,r,n,t){n.hasOwnProperty("column")&&u((0,f.Jh)(n)),u((0,f.Jr)((0,d.Z)((0,l.Z)({},e),{current:e.current})))},rowKey:"phone"})};function _(){return(0,t.jsx)(a.Z,{justify:"center",style:{paddingTop:60},children:(0,t.jsxs)(u.Z,{span:16,children:[(0,t.jsx)(m,{}),(0,t.jsx)(S,{})]})})}}},function(e){e.O(0,[885,466,774,888,179],(function(){return r=8312,e(e.s=r);var r}));var r=e.O();_N_E=r}]);